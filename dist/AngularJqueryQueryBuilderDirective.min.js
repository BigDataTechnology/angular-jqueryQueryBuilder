angular.module("angular-jquery-querybuilder",[]).directive("queryBuilder",[function(){return{restrict:"AE",scope:{options:"=",api:"=",builder:"="},link:function(e,r){var u,i,t,l,n,o;return u=function(){return r[0].queryBuilder.setRules(i())},n=function(){if(e.builder=r[0].queryBuilder,e.api)return e.api.updateRules=u},o=function(){return r.on("afterUpdateRuleValue.queryBuilder    afterUpdateRuleFilter.queryBuilder afterUpdateRuleOperator.queryBuilder afterUpdateGroupCondition.queryBuilder afterReset.queryBuilder              afterMove.queryBuilder afterSetFilters.queryBuilder         afterInvert.queryBuilder afterDeleteRule.queryBuilder         afterDeleteGroup.queryBuilder",function(){var u;if(u=r[0].queryBuilder.getRules(),!angular.equals(u,e.options.rules)&&((null!=u?u.condition:void 0)||(null!=u?u.rules:void 0)))return e.$emit("QueryBuilderValueChanged")})},i=function(){var r,u;return(null!=(r=e.options.rules)?r.condition:void 0)||(null!=(u=e.options.rules)?u.rules:void 0)?e.options.rules:{condition:"OR",rules:[]}},l=function(){return r.queryBuilder(e.options)},(t=function(){return l(),n(),o()})()}}}]);